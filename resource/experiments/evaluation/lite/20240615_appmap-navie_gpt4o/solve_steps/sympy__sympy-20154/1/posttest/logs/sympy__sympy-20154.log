[tmpoce0bxzb] [sympy__sympy-20154] Command: bash -c . /usr/share/miniconda/bin/activate sympy__sympy__1.7-2 && echo 'activate successful' && printenv && PYTHONWARNINGS=ignore bin/test -C --verbose  sympy/utilities/tests/test_iterables.py 
[tmpoce0bxzb] [sympy__sympy-20154] Subprocess args: {"check": false, "shell": false, "capture_output": false, "text": true, "env": {"CONDA_PKGS_DIRS": "/usr/share/miniconda/cache"}, "stdout": -1, "stderr": -2, "timeout": 30} 
[tmpoce0bxzb] [sympy__sympy-20154] Std. Output:
activate successful
CONDA_EXE=/usr/share/miniconda/bin/conda
_CE_M=
PWD=/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2
CONDA_PREFIX=/usr/share/miniconda/envs/sympy__sympy__1.7-2
CONDA_PROMPT_MODIFIER=(sympy__sympy__1.7-2) 
_CE_CONDA=
CONDA_SHLVL=1
SHLVL=1
CONDA_PYTHON_EXE=/usr/share/miniconda/bin/python
CONDA_DEFAULT_ENV=sympy__sympy__1.7-2
CONDA_PKGS_DIRS=/usr/share/miniconda/cache
PATH=/usr/share/miniconda/envs/sympy__sympy__1.7-2/bin:/usr/share/miniconda/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
_=/usr/bin/printenv
============================= test process starts ==============================
executable:         /usr/share/miniconda/envs/sympy__sympy__1.7-2/bin/python  (3.9.19-final-0) [CPython]
architecture:       64-bit
cache:              no
ground types:       python 
numpy:              None
random seed:        81255543
hash randomization: on (PYTHONHASHSEED=4281928275)

sympy/utilities/tests/test_iterables.py[43] 
test_is_palindromic ok
test_postorder_traversal ok
test_flatten ok
test_iproduct ok
test_group ok
test_subsets ok
test_variations ok
test_cartes ok
test_filter_symbols ok
test_numbered_symbols ok
test_sift ok
test_take ok
test_dict_merge ok
test_prefixes ok
test_postfixes ok
test_topological_sort ok
test_strongly_connected_components ok
test_connected_components ok
test_rotate ok
test_multiset_partitions E
test_multiset_combinations ok
test_multiset_permutations ok
test_partitions E
test_binary_partitions ok
test_bell_perm ok
test_involutions ok
test_derangements ok
test_necklaces ok
test_bracelets ok
test_generate_oriented_forest ok
test_unflatten ok
test_common_prefix_suffix ok
test_minlex ok
test_ordered ok
test_runs ok
test_reshape ok
test_uniq E
test_kbins E
test_has_dups ok
test__partition ok
test_ordered_partitions ok
test_rotations ok
test_ibin ok                                                              [FAIL]


________________________________________________________________________________
_______ sympy/utilities/tests/test_iterables.py:test_multiset_partitions _______
Traceback (most recent call last):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/tests/test_iterables.py", line 363, in test_multiset_partitions
    assert list(multiset_partitions([1] * 3, 2)) == [[[1], [1, 1]]]
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 1653, in multiset_partitions
    for size, p in partitions(n, m, size=True):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 1808, in partitions
    reuse = ms.pop(1)
KeyError: 1
________________________________________________________________________________
___________ sympy/utilities/tests/test_iterables.py:test_partitions ____________
Traceback (most recent call last):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/tests/test_iterables.py", line 480, in test_partitions
    assert list(partitions(6, 2, None, size=i)) != ans[i]
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 1808, in partitions
    reuse = ms.pop(1)
KeyError: 1
________________________________________________________________________________
______________ sympy/utilities/tests/test_iterables.py:test_uniq _______________
Traceback (most recent call last):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 2127, in uniq
    if not (s in seen or seen.add(s)):
TypeError: unhashable type: 'dict'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 2127, in uniq
    if not (s in seen or seen.add(s)):
TypeError: unhashable type: 'dict'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/tests/test_iterables.py", line 700, in test_uniq
    assert list(uniq(p.copy() for p in partitions(4))) == \
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 2138, in uniq
    yield from uniq(seq, result)
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 2138, in uniq
    yield from uniq(seq, result)
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 2126, in uniq
    for i, s in enumerate(seq):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/tests/test_iterables.py", line 700, in <genexpr>
    assert list(uniq(p.copy() for p in partitions(4))) == \
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 1808, in partitions
    reuse = ms.pop(1)
KeyError: 1
________________________________________________________________________________
______________ sympy/utilities/tests/test_iterables.py:test_kbins ______________
Traceback (most recent call last):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/tests/test_iterables.py", line 717, in test_kbins
    assert len(list(kbins('1123', 2, ordered=1))) == 24
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 2636, in kbins
    for kgot, p in partitions(len(l), k, size=True):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 1808, in partitions
    reuse = ms.pop(1)
KeyError: 1

=========== tests finished: 39 passed, 4 exceptions, in 0.40 seconds ===========
DO *NOT* COMMIT!
 
[tmpoce0bxzb] [sympy__sympy-20154] Return Code: 1 
[tmpoce0bxzb] [sympy__sympy-20154] Command: bash -c . /usr/share/miniconda/bin/activate sympy__sympy__1.7-2 && echo 'activate successful' && printenv && PYTHONWARNINGS=ignore bin/test -C --verbose  sympy/utilities/tests/test_iterables.py 
[tmpoce0bxzb] [sympy__sympy-20154] Subprocess args: {"check": false, "shell": false, "capture_output": false, "text": true, "env": {"CONDA_PKGS_DIRS": "/usr/share/miniconda/cache"}, "stdout": -1, "stderr": -2, "timeout": 30} 
[tmpoce0bxzb] [sympy__sympy-20154] Std. Output:
activate successful
CONDA_EXE=/usr/share/miniconda/bin/conda
_CE_M=
PWD=/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2
CONDA_PREFIX=/usr/share/miniconda/envs/sympy__sympy__1.7-2
CONDA_PROMPT_MODIFIER=(sympy__sympy__1.7-2) 
_CE_CONDA=
CONDA_SHLVL=1
SHLVL=1
CONDA_PYTHON_EXE=/usr/share/miniconda/bin/python
CONDA_DEFAULT_ENV=sympy__sympy__1.7-2
CONDA_PKGS_DIRS=/usr/share/miniconda/cache
PATH=/usr/share/miniconda/envs/sympy__sympy__1.7-2/bin:/usr/share/miniconda/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
_=/usr/bin/printenv
============================= test process starts ==============================
executable:         /usr/share/miniconda/envs/sympy__sympy__1.7-2/bin/python  (3.9.19-final-0) [CPython]
architecture:       64-bit
cache:              no
ground types:       python 
numpy:              None
random seed:        3650014
hash randomization: on (PYTHONHASHSEED=359802281)

sympy/utilities/tests/test_iterables.py[43] 
test_is_palindromic ok
test_postorder_traversal ok
test_flatten ok
test_iproduct ok
test_group ok
test_subsets ok
test_variations ok
test_cartes ok
test_filter_symbols ok
test_numbered_symbols ok
test_sift ok
test_take ok
test_dict_merge ok
test_prefixes ok
test_postfixes ok
test_topological_sort ok
test_strongly_connected_components ok
test_connected_components ok
test_rotate ok
test_multiset_partitions E
test_multiset_combinations ok
test_multiset_permutations ok
test_partitions E
test_binary_partitions ok
test_bell_perm ok
test_involutions ok
test_derangements ok
test_necklaces ok
test_bracelets ok
test_generate_oriented_forest ok
test_unflatten ok
test_common_prefix_suffix ok
test_minlex ok
test_ordered ok
test_runs ok
test_reshape ok
test_uniq E
test_kbins E
test_has_dups ok
test__partition ok
test_ordered_partitions ok
test_rotations ok
test_ibin ok                                                              [FAIL]


________________________________________________________________________________
_______ sympy/utilities/tests/test_iterables.py:test_multiset_partitions _______
Traceback (most recent call last):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/tests/test_iterables.py", line 363, in test_multiset_partitions
    assert list(multiset_partitions([1] * 3, 2)) == [[[1], [1, 1]]]
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 1653, in multiset_partitions
    for size, p in partitions(n, m, size=True):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 1817, in partitions
    newcount = ms[i] = ms[i] - 1
KeyError: 2
________________________________________________________________________________
___________ sympy/utilities/tests/test_iterables.py:test_partitions ____________
Traceback (most recent call last):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/tests/test_iterables.py", line 480, in test_partitions
    assert list(partitions(6, 2, None, size=i)) != ans[i]
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 1817, in partitions
    newcount = ms[i] = ms[i] - 1
KeyError: 5
________________________________________________________________________________
______________ sympy/utilities/tests/test_iterables.py:test_uniq _______________
Traceback (most recent call last):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 2127, in uniq
    if not (s in seen or (isinstance(s, dict) and frozenset(s.items()) in seen) or seen.add(s if not isinstance(s, dict) else frozenset(s.items()))):
TypeError: unhashable type: 'dict'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 2127, in uniq
    if not (s in seen or (isinstance(s, dict) and frozenset(s.items()) in seen) or seen.add(s if not isinstance(s, dict) else frozenset(s.items()))):
TypeError: unhashable type: 'dict'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/tests/test_iterables.py", line 700, in test_uniq
    assert list(uniq(p.copy() for p in partitions(4))) == \
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 2138, in uniq
    yield from uniq(seq, result)
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 2138, in uniq
    yield from uniq(seq, result)
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 2126, in uniq
    for i, s in enumerate(seq):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/tests/test_iterables.py", line 700, in <genexpr>
    assert list(uniq(p.copy() for p in partitions(4))) == \
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 1817, in partitions
    newcount = ms[i] = ms[i] - 1
KeyError: 3
________________________________________________________________________________
______________ sympy/utilities/tests/test_iterables.py:test_kbins ______________
Traceback (most recent call last):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/tests/test_iterables.py", line 717, in test_kbins
    assert len(list(kbins('1123', 2, ordered=1))) == 24
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 2636, in kbins
    for kgot, p in partitions(len(l), k, size=True):
  File "/home/runner/work/_temp/tmpoce0bxzb/sympy__sympy__1.7-2/sympy/utilities/iterables.py", line 1817, in partitions
    newcount = ms[i] = ms[i] - 1
KeyError: 3

=========== tests finished: 39 passed, 4 exceptions, in 0.47 seconds ===========
DO *NOT* COMMIT!
 
[tmpoce0bxzb] [sympy__sympy-20154] Return Code: 1 
