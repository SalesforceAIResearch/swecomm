[tmpy8jlqr3k] [django__django-14730] Command: bash -c . /usr/share/miniconda/bin/activate django__django__4.0-2 && echo 'activate successful' && printenv && ./tests/runtests.py --verbosity 2  field_deconstruction.tests invalid_models_tests.test_relative_fields model_meta.models 
[tmpy8jlqr3k] [django__django-14730] Subprocess args: {"check": false, "shell": false, "capture_output": false, "text": true, "env": {"CONDA_PKGS_DIRS": "/usr/share/miniconda/cache"}, "stdout": -1, "stderr": -2, "timeout": 30} 
[tmpy8jlqr3k] [django__django-14730] Std. Output:
activate successful
CONDA_EXE=/usr/share/miniconda/bin/conda
_CE_M=
PWD=/home/runner/work/_temp/tmpy8jlqr3k/django__django__4.0-2
CONDA_PREFIX=/usr/share/miniconda/envs/django__django__4.0-2
CONDA_PROMPT_MODIFIER=(django__django__4.0-2) 
_CE_CONDA=
CONDA_SHLVL=1
SHLVL=1
CONDA_PYTHON_EXE=/usr/share/miniconda/bin/python
CONDA_DEFAULT_ENV=django__django__4.0-2
CONDA_PKGS_DIRS=/usr/share/miniconda/cache
PATH=/usr/share/miniconda/envs/django__django__4.0-2/bin:/usr/share/miniconda/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
_=/usr/bin/printenv
Testing against Django installed in '/home/runner/work/_temp/tmpy8jlqr3k/django__django__4.0-2/django' with up to 4 processes
Importing application invalid_models_tests
Importing application field_deconstruction
Importing application model_meta
Traceback (most recent call last):
  File "./tests/runtests.py", line 668, in <module>
    failures = django_tests(
  File "./tests/runtests.py", line 365, in django_tests
    test_labels, state = setup_run_tests(verbosity, start_at, start_after, test_labels)
  File "./tests/runtests.py", line 298, in setup_run_tests
    apps.set_installed_apps(settings.INSTALLED_APPS)
  File "/home/runner/work/_temp/tmpy8jlqr3k/django__django__4.0-2/django/apps/registry.py", line 355, in set_installed_apps
    self.populate(installed)
  File "/home/runner/work/_temp/tmpy8jlqr3k/django__django__4.0-2/django/apps/registry.py", line 114, in populate
    app_config.import_models()
  File "/home/runner/work/_temp/tmpy8jlqr3k/django__django__4.0-2/django/apps/config.py", line 300, in import_models
    self.models_module = import_module(models_module_name)
  File "/usr/share/miniconda/envs/django__django__4.0-2/lib/python3.8/importlib/__init__.py", line 127, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1014, in _gcd_import
  File "<frozen importlib._bootstrap>", line 991, in _find_and_load
  File "<frozen importlib._bootstrap>", line 975, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 671, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 843, in exec_module
  File "<frozen importlib._bootstrap>", line 219, in _call_with_frames_removed
  File "/home/runner/work/_temp/tmpy8jlqr3k/django__django__4.0-2/tests/model_meta/models.py", line 19, in <module>
    class AbstractPerson(models.Model):
  File "/home/runner/work/_temp/tmpy8jlqr3k/django__django__4.0-2/tests/model_meta/models.py", line 26, in AbstractPerson
    friends_abstract = models.ManyToManyField('self', related_name='friends_abstract', symmetrical=True)
  File "/home/runner/work/_temp/tmpy8jlqr3k/django__django__4.0-2/django/db/models/fields/related.py", line 1188, in __init__
    kwargs['rel'] = self.rel_class(
  File "/home/runner/work/_temp/tmpy8jlqr3k/django__django__4.0-2/django/db/models/fields/reverse_related.py", line 292, in __init__
    raise ValueError("Cannot set 'related_name' on symmetrical ManyToManyField")
ValueError: Cannot set 'related_name' on symmetrical ManyToManyField
 
[tmpy8jlqr3k] [django__django-14730] Return Code: 1 
[tmpy8jlqr3k] [django__django-14730] Command: bash -c . /usr/share/miniconda/bin/activate django__django__4.0-2 && echo 'activate successful' && printenv && ./tests/runtests.py --verbosity 2  field_deconstruction.tests invalid_models_tests.test_relative_fields model_meta.models 
[tmpy8jlqr3k] [django__django-14730] Subprocess args: {"check": false, "shell": false, "capture_output": false, "text": true, "env": {"CONDA_PKGS_DIRS": "/usr/share/miniconda/cache"}, "stdout": -1, "stderr": -2, "timeout": 30} 
[tmpy8jlqr3k] [django__django-14730] Std. Output:
activate successful
CONDA_EXE=/usr/share/miniconda/bin/conda
_CE_M=
PWD=/home/runner/work/_temp/tmpy8jlqr3k/django__django__4.0-2
CONDA_PREFIX=/usr/share/miniconda/envs/django__django__4.0-2
CONDA_PROMPT_MODIFIER=(django__django__4.0-2) 
_CE_CONDA=
CONDA_SHLVL=1
SHLVL=1
CONDA_PYTHON_EXE=/usr/share/miniconda/bin/python
CONDA_DEFAULT_ENV=django__django__4.0-2
CONDA_PKGS_DIRS=/usr/share/miniconda/cache
PATH=/usr/share/miniconda/envs/django__django__4.0-2/bin:/usr/share/miniconda/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
_=/usr/bin/printenv
Testing against Django installed in '/home/runner/work/_temp/tmpy8jlqr3k/django__django__4.0-2/django' with up to 4 processes
Importing application invalid_models_tests
Importing application field_deconstruction
Importing application model_meta
Found 120 test(s).
Skipping setup of unused database(s): default, other.
System check identified no issues (0 silenced).
test_clash_parent_link (invalid_models_tests.test_relative_fields.ComplexClashTests) ... ok
test_complex_clash (invalid_models_tests.test_relative_fields.ComplexClashTests) ... ok
test_fk_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests) ... ok
test_fk_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests) ... ok
test_fk_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests) ... ok
test_m2m_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests) ... ok
test_m2m_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests) ... ok
test_m2m_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedNameClashTests) ... ok
test_explicit_field_names (invalid_models_tests.test_relative_fields.M2mThroughFieldsTests)
If ``through_fields`` kwarg is given, it must specify both ... ok
test_intersection_foreign_object (invalid_models_tests.test_relative_fields.M2mThroughFieldsTests) ... ok
test_invalid_field (invalid_models_tests.test_relative_fields.M2mThroughFieldsTests)
Providing invalid field names to ManyToManyField.through_fields ... ok
test_invalid_order (invalid_models_tests.test_relative_fields.M2mThroughFieldsTests)
Mixing up the order of link fields to ManyToManyField.through_fields ... ok
test_m2m_field_argument_validation (invalid_models_tests.test_relative_fields.M2mThroughFieldsTests)
ManyToManyField accepts the ``through_fields`` kwarg ... ok
test_superset_foreign_object (invalid_models_tests.test_relative_fields.M2mThroughFieldsTests) ... ok
test_clash_between_accessors (invalid_models_tests.test_relative_fields.AccessorClashTests) ... ok
test_fk_to_fk (invalid_models_tests.test_relative_fields.AccessorClashTests) ... ok
test_fk_to_integer (invalid_models_tests.test_relative_fields.AccessorClashTests) ... ok
test_fk_to_m2m (invalid_models_tests.test_relative_fields.AccessorClashTests) ... ok
test_m2m_to_fk (invalid_models_tests.test_relative_fields.AccessorClashTests) ... ok
test_m2m_to_integer (invalid_models_tests.test_relative_fields.AccessorClashTests) ... ok
test_m2m_to_m2m (invalid_models_tests.test_relative_fields.AccessorClashTests) ... ok
test_m2m_to_m2m_with_inheritance (invalid_models_tests.test_relative_fields.AccessorClashTests)
Ref #22047. ... ok
test_no_clash_for_hidden_related_name (invalid_models_tests.test_relative_fields.AccessorClashTests) ... ok
test_auto_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_big_integer_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_binary_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_boolean_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_char_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_char_field_choices (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_csi_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_date_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_datetime_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_db_tablespace (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_decimal_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_decimal_field_0_decimal_places (field_deconstruction.tests.FieldDeconstructionTests)
A DecimalField with decimal_places=0 should work (#22272). ... ok
test_email_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_file_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_file_path_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_float_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_foreign_key (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_foreign_key_swapped (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_generic_ip_address_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_image_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_integer_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_ip_address_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_many_to_many_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_many_to_many_field_related_name (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_many_to_many_field_swapped (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_name (field_deconstruction.tests.FieldDeconstructionTests)
Tests the outputting of the correct name if assigned one. ... ok
test_one_to_one (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_positive_big_integer_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_positive_integer_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_positive_small_integer_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_slug_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_small_integer_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_text_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_time_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_url_field (field_deconstruction.tests.FieldDeconstructionTests) ... ok
test_accessor_clash (invalid_models_tests.test_relative_fields.SelfReferentialFKClashTests) ... ok
test_clash_under_explicit_related_name (invalid_models_tests.test_relative_fields.SelfReferentialFKClashTests) ... ok
test_reverse_query_name_clash (invalid_models_tests.test_relative_fields.SelfReferentialFKClashTests) ... ok
test_fk_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests) ... ok
test_fk_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests) ... ok
test_fk_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests) ... ok
test_hidden_fk_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests) ... ok
test_hidden_fk_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests) ... ok
test_hidden_fk_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests) ... ok
test_hidden_m2m_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests) ... ok
test_hidden_m2m_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests) ... ok
test_hidden_m2m_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests) ... ok
test_m2m_to_fk (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests) ... ok
test_m2m_to_integer (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests) ... ok
test_m2m_to_m2m (invalid_models_tests.test_relative_fields.ExplicitRelatedQueryNameClashTests) ... ok
test_accessor_clash (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests) ... ok
test_clash_between_accessors (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests) ... ok
test_clash_under_explicit_related_name (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests) ... ok
test_reverse_query_name_clash (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests) ... ok
test_valid_model (invalid_models_tests.test_relative_fields.SelfReferentialM2MClashTests) ... ok
test_fk_to_fk (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests) ... ok
test_fk_to_integer (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests) ... ok
test_fk_to_m2m (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests) ... ok
test_m2m_to_fk (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests) ... ok
test_m2m_to_integer (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests) ... ok
test_m2m_to_m2m (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests) ... ok
test_no_clash_across_apps_without_accessor (invalid_models_tests.test_relative_fields.ReverseQueryNameClashTests) ... ok
test_ambiguous_relationship_model_from (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_ambiguous_relationship_model_to (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_foreign_key_to_abstract_model (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_foreign_key_to_isolate_apps_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)
#25723 - Referenced model registration lookup should be run against the ... ok
test_foreign_key_to_missing_model (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_foreign_key_to_non_unique_field (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_foreign_key_to_non_unique_field_under_explicit_model (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_foreign_key_to_partially_unique_field (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_foreign_key_to_unique_field_with_meta_constraint (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_foreign_object_to_non_unique_fields (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_foreign_object_to_partially_unique_field (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_foreign_object_to_unique_field_with_meta_constraint (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_invalid_related_query_name (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_m2m_to_abstract_model (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_many_to_many_through_isolate_apps_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)
#25723 - Through model registration lookup should be run against the ... ok
test_many_to_many_to_isolate_apps_model (invalid_models_tests.test_relative_fields.RelativeFieldTests)
#25723 - Referenced model registration lookup should be run against the ... ok
test_many_to_many_to_missing_model (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_many_to_many_with_limit_choices_auto_created_no_warning (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_many_to_many_with_useless_options (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_missing_relationship_model (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_missing_relationship_model_on_model_check (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_not_swapped_model (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_nullable_primary_key (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_on_delete_set_default_without_default_value (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_on_delete_set_null_on_non_nullable_field (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_referencing_to_swapped_model (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_related_field_has_invalid_related_name (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_related_field_has_valid_related_name (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_relationship_model_missing_foreign_key (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_relationship_model_with_foreign_key_to_wrong_model (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_to_fields_exist (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_to_fields_not_checked_if_related_model_doesnt_exist (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_too_many_foreign_keys_in_self_referential_model (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_unique_m2m (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok
test_valid_foreign_key_without_accessor (invalid_models_tests.test_relative_fields.RelativeFieldTests) ... ok

----------------------------------------------------------------------
Ran 120 tests in 0.098s

OK
 
[tmpy8jlqr3k] [django__django-14730] Return Code: 0 
