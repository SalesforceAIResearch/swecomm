[tmp7n0u7xvq] [sympy__sympy-18621] Command: bash -c . /usr/share/miniconda/bin/activate sympy__sympy__1.6-1 && echo 'activate successful' && printenv && PYTHONWARNINGS=ignore bin/test -C --verbose  sympy/matrices/expressions/tests/test_blockmatrix.py 
[tmp7n0u7xvq] [sympy__sympy-18621] Subprocess args: {"check": false, "shell": false, "capture_output": false, "text": true, "env": {"CONDA_PKGS_DIRS": "/usr/share/miniconda/cache"}, "stdout": -1, "stderr": -2, "timeout": 30} 
[tmp7n0u7xvq] [sympy__sympy-18621] Std. Output:
activate successful
CONDA_EXE=/usr/share/miniconda/bin/conda
_CE_M=
PWD=/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1
CONDA_PREFIX=/usr/share/miniconda/envs/sympy__sympy__1.6-1
CONDA_PROMPT_MODIFIER=(sympy__sympy__1.6-1) 
_CE_CONDA=
CONDA_SHLVL=1
SHLVL=1
CONDA_PYTHON_EXE=/usr/share/miniconda/bin/python
CONDA_DEFAULT_ENV=sympy__sympy__1.6-1
CONDA_PKGS_DIRS=/usr/share/miniconda/cache
PATH=/usr/share/miniconda/envs/sympy__sympy__1.6-1/bin:/usr/share/miniconda/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
_=/usr/bin/printenv
============================= test process starts ==============================
executable:         /usr/share/miniconda/envs/sympy__sympy__1.6-1/bin/python  (3.9.19-final-0) [CPython]
architecture:       64-bit
cache:              no
ground types:       python 
numpy:              None
random seed:        98885158
hash randomization: on (PYTHONHASHSEED=362632785)

sympy/matrices/expressions/tests/test_blockmatrix.py[16] 
test_bc_matmul ok
test_bc_matadd ok
test_bc_transpose ok
test_bc_dist_diag ok
test_block_plus_ident ok
test_BlockMatrix ok
test_block_collapse_explicit_matrices ok
test_issue_17624 ok
test_BlockMatrix_trace ok
test_BlockMatrix_Determinant ok
test_squareBlockMatrix ok
test_BlockDiagMatrix ok
test_blockcut F
test_reblock_2x2 E
test_deblock ok
test_block_collapse_type ok                                               [FAIL]


________________________________________________________________________________
____ sympy/matrices/expressions/tests/test_blockmatrix.py:test_reblock_2x2 _____
Traceback (most recent call last):
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/dense.py", line 99, in __getitem__
    i, j = self.key2ij(key)
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/matrices.py", line 1818, in key2ij
    return [a2idx_(i, n) if not isinstance(i, slice) else i
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/matrices.py", line 1818, in <listcomp>
    return [a2idx_(i, n) if not isinstance(i, slice) else i
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/common.py", line 2681, in a2idx
    raise IndexError("Index out of range: a[%s]" % (j,))
IndexError: Index out of range: a[3]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/expressions/tests/test_blockmatrix.py", line 212, in test_reblock_2x2
    assert B.as_explicit() == BB.as_explicit()
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/expressions/matexpr.py", line 345, in as_explicit
    return ImmutableDenseMatrix([[    self[i, j]
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/expressions/matexpr.py", line 345, in <listcomp>
    return ImmutableDenseMatrix([[    self[i, j]
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/expressions/matexpr.py", line 345, in <listcomp>
    return ImmutableDenseMatrix([[    self[i, j]
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/expressions/matexpr.py", line 296, in __getitem__
    return self._entry(i, j)
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/expressions/blockmatrix.py", line 238, in _entry
    return self.args[0][i, j]
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/dense.py", line 121, in __getitem__
    return self.extract(i, j)
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/common.py", line 350, in extract
    colsList = [a2idx(k, self.cols) for k in colsList]
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/common.py", line 350, in <listcomp>
    colsList = [a2idx(k, self.cols) for k in colsList]
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/common.py", line 2681, in a2idx
    raise IndexError("Index out of range: a[%s]" % (j,))
IndexError: Index out of range: a[3]

________________________________________________________________________________
______ sympy/matrices/expressions/tests/test_blockmatrix.py:test_blockcut ______
Traceback (most recent call last):
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/expressions/tests/test_blockmatrix.py", line 191, in test_blockcut
    assert A[i, j] == B[i, j]
AssertionError

====== tests finished: 14 passed, 1 failed, 1 exceptions, in 0.36 seconds ======
DO *NOT* COMMIT!
 
[tmp7n0u7xvq] [sympy__sympy-18621] Return Code: 1 
[tmp7n0u7xvq] [sympy__sympy-18621] Command: bash -c . /usr/share/miniconda/bin/activate sympy__sympy__1.6-1 && echo 'activate successful' && printenv && PYTHONWARNINGS=ignore bin/test -C --verbose  sympy/matrices/expressions/tests/test_blockmatrix.py 
[tmp7n0u7xvq] [sympy__sympy-18621] Subprocess args: {"check": false, "shell": false, "capture_output": false, "text": true, "env": {"CONDA_PKGS_DIRS": "/usr/share/miniconda/cache"}, "stdout": -1, "stderr": -2, "timeout": 30} 
[tmp7n0u7xvq] [sympy__sympy-18621] Std. Output:
activate successful
CONDA_EXE=/usr/share/miniconda/bin/conda
_CE_M=
PWD=/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1
CONDA_PREFIX=/usr/share/miniconda/envs/sympy__sympy__1.6-1
CONDA_PROMPT_MODIFIER=(sympy__sympy__1.6-1) 
_CE_CONDA=
CONDA_SHLVL=1
SHLVL=1
CONDA_PYTHON_EXE=/usr/share/miniconda/bin/python
CONDA_DEFAULT_ENV=sympy__sympy__1.6-1
CONDA_PKGS_DIRS=/usr/share/miniconda/cache
PATH=/usr/share/miniconda/envs/sympy__sympy__1.6-1/bin:/usr/share/miniconda/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
_=/usr/bin/printenv
============================= test process starts ==============================
executable:         /usr/share/miniconda/envs/sympy__sympy__1.6-1/bin/python  (3.9.19-final-0) [CPython]
architecture:       64-bit
cache:              no
ground types:       python 
numpy:              None
random seed:        88682596
hash randomization: on (PYTHONHASHSEED=3796462838)

sympy/matrices/expressions/tests/test_blockmatrix.py[16] 
test_bc_matmul ok
test_bc_matadd ok
test_bc_transpose ok
test_bc_dist_diag ok
test_block_plus_ident ok
test_BlockMatrix ok
test_block_collapse_explicit_matrices ok
test_issue_17624 ok
test_BlockMatrix_trace ok
test_BlockMatrix_Determinant ok
test_squareBlockMatrix ok
test_BlockDiagMatrix ok
test_blockcut F
test_reblock_2x2 E
test_deblock ok
test_block_collapse_type ok                                               [FAIL]


________________________________________________________________________________
____ sympy/matrices/expressions/tests/test_blockmatrix.py:test_reblock_2x2 _____
Traceback (most recent call last):
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/dense.py", line 99, in __getitem__
    i, j = self.key2ij(key)
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/matrices.py", line 1818, in key2ij
    return [a2idx_(i, n) if not isinstance(i, slice) else i
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/matrices.py", line 1818, in <listcomp>
    return [a2idx_(i, n) if not isinstance(i, slice) else i
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/common.py", line 2681, in a2idx
    raise IndexError("Index out of range: a[%s]" % (j,))
IndexError: Index out of range: a[3]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/expressions/tests/test_blockmatrix.py", line 212, in test_reblock_2x2
    assert B.as_explicit() == BB.as_explicit()
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/expressions/matexpr.py", line 345, in as_explicit
    return ImmutableDenseMatrix([[    self[i, j]
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/expressions/matexpr.py", line 345, in <listcomp>
    return ImmutableDenseMatrix([[    self[i, j]
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/expressions/matexpr.py", line 345, in <listcomp>
    return ImmutableDenseMatrix([[    self[i, j]
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/expressions/matexpr.py", line 296, in __getitem__
    return self._entry(i, j)
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/expressions/blockmatrix.py", line 238, in _entry
    return self.args[0][i, j]
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/dense.py", line 121, in __getitem__
    return self.extract(i, j)
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/common.py", line 350, in extract
    colsList = [a2idx(k, self.cols) for k in colsList]
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/common.py", line 350, in <listcomp>
    colsList = [a2idx(k, self.cols) for k in colsList]
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/common.py", line 2681, in a2idx
    raise IndexError("Index out of range: a[%s]" % (j,))
IndexError: Index out of range: a[3]

________________________________________________________________________________
______ sympy/matrices/expressions/tests/test_blockmatrix.py:test_blockcut ______
Traceback (most recent call last):
  File "/home/runner/work/_temp/tmp7n0u7xvq/sympy__sympy__1.6-1/sympy/matrices/expressions/tests/test_blockmatrix.py", line 191, in test_blockcut
    assert A[i, j] == B[i, j]
AssertionError

====== tests finished: 14 passed, 1 failed, 1 exceptions, in 0.31 seconds ======
DO *NOT* COMMIT!
 
[tmp7n0u7xvq] [sympy__sympy-18621] Return Code: 1 
