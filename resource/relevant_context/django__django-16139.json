{"instance_id": "django__django-16139", "identified_spans": [{"file_path": "django/contrib/auth/admin.py", "span_ids": ["UserAdmin.get_urls", "UserAdmin"], "content": [{"span_id": "UserAdmin.get_urls", "start_line": 100, "end_line": 107, "content": ["    def get_urls(self):\n", "        return [\n", "            path(\n", "                \"<id>/password/\",\n", "                self.admin_site.admin_view(self.user_change_password),\n", "                name=\"auth_user_password_change\",\n", "            ),\n", "        ] + super().get_urls()\n"]}, {"span_id": "UserAdmin", "start_line": 43, "end_line": 83, "content": ["@admin.register(User)\n", "class UserAdmin(admin.ModelAdmin):\n", "    add_form_template = \"admin/auth/user/add_form.html\"\n", "    change_user_password_template = None\n", "    fieldsets = (\n", "        (None, {\"fields\": (\"username\", \"password\")}),\n", "        (_(\"Personal info\"), {\"fields\": (\"first_name\", \"last_name\", \"email\")}),\n", "        (\n", "            _(\"Permissions\"),\n", "            {\n", "                \"fields\": (\n", "                    \"is_active\",\n", "                    \"is_staff\",\n", "                    \"is_superuser\",\n", "                    \"groups\",\n", "                    \"user_permissions\",\n", "                ),\n", "            },\n", "        ),\n", "        (_(\"Important dates\"), {\"fields\": (\"last_login\", \"date_joined\")}),\n", "    )\n", "    add_fieldsets = (\n", "        (\n", "            None,\n", "            {\n", "                \"classes\": (\"wide\",),\n", "                \"fields\": (\"username\", \"password1\", \"password2\"),\n", "            },\n", "        ),\n", "    )\n", "    form = UserChangeForm\n", "    add_form = UserCreationForm\n", "    change_password_form = AdminPasswordChangeForm\n", "    list_display = (\"username\", \"email\", \"first_name\", \"last_name\", \"is_staff\")\n", "    list_filter = (\"is_staff\", \"is_superuser\", \"is_active\", \"groups\")\n", "    search_fields = (\"username\", \"first_name\", \"last_name\", \"email\")\n", "    ordering = (\"username\",)\n", "    filter_horizontal = (\n", "        \"groups\",\n", "        \"user_permissions\",\n", "    )\n"]}]}, {"file_path": "django/contrib/auth/forms.py", "span_ids": ["UserChangeForm", "UserChangeForm.__init__"], "content": [{"span_id": "UserChangeForm", "start_line": 147, "end_line": 155, "content": ["class UserChangeForm(forms.ModelForm):\n", "    password = ReadOnlyPasswordHashField(\n", "        label=_(\"Password\"),\n", "        help_text=_(\n", "            \"Raw passwords are not stored, so there is no way to see this \"\n", "            \"user\u2019s password, but you can change the password using \"\n", "            '<a href=\"{}\">this form</a>.'\n", "        ),\n", "    )\n"]}, {"span_id": "UserChangeForm.__init__", "start_line": 162, "end_line": 171, "content": ["    def __init__(self, *args, **kwargs):\n", "        super().__init__(*args, **kwargs)\n", "        password = self.fields.get(\"password\")\n", "        if password:\n", "            password.help_text = password.help_text.format(\"../password/\")\n", "        user_permissions = self.fields.get(\"user_permissions\")\n", "        if user_permissions:\n", "            user_permissions.queryset = user_permissions.queryset.select_related(\n", "                \"content_type\"\n", "            )\n"]}]}]}